"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=(e=require("axios"))&&"object"==typeof e&&"default"in e?e.default:e;let l="https://npm-stat.com/api/download-counts",a=new Date,r=a.toISOString().slice(0,10);a.setFullYear(a.getFullYear()-1);let u=a.toISOString().slice(0,10),n={username:"",until:r,from:u,exclude:[]};exports.getAll=function(e){let a={...n,...e},{username:r,from:u,until:o,exclude:s}=a,c=`${l}?author=${r}&from=${u}&until=${o}`;return t.get(c).then(e=>{e=e.data;let t=[];Object.keys(e).forEach(l=>{if(!s.includes(l)){let a=Object.values(e[l]).reduce((e,t)=>e+t,0);t.push({name:l,downloads:a})}});let l=t.reduce((e,t)=>e+t.downloads,0);return{packages:t,total:l}})},exports.getOne=function(e,a,n){a||(a=u),n||(n=r);let o=`${l}?package=${e}&from=${a}&until=${n}`;return t.get(o).then(t=>{t=t.data;let l=Object.values(t[e]).reduce((e,t)=>e+t,0);return{package:e,downloads:l}})};
